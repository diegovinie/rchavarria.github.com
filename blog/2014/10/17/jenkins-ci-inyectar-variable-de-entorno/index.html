
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Jenkins CI: inyectar variable de entorno - R. Chavarria's Blog</title>
  <meta name="author" content="Rub&eacute;n Chavarr&iacute;a">

  
  <meta name="description" content="Recientemente, me ha surgido la necesidad de inyectar, o modificar más bien, una
variable de entorno en el servidor de integración contínua que &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rchavarria.github.io/blog/2014/10/17/jenkins-ci-inyectar-variable-de-entorno/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="R. Chavarria's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36829645-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">R. Chavarria's Blog</a></h1>
  
    <h2>Proud of developing software, proud of being an Engineer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rchavarria.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archivos</a></li>
  <li><a href="/readings">Lista de lectura</a></li>
  <li><a href="/pet-projects">Proyectos</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Jenkins CI: inyectar variable de entorno</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-10-17T08:44:00+02:00" pubdate data-updated="true">Oct 17<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Recientemente, me ha surgido la necesidad de inyectar, o modificar más bien, una
variable de entorno en el servidor de integración contínua que usamos en el
trabajo, <a href="http://www.jenkins-ci.org">Jenkins</a>.</p>

<p>Uno de los <em>jobs</em> de Jenkins necesita una aplicación recientemente instalada, y
dicha aplicación no está alojada en ningún directorio definido dentro de la
variable de entorno <code>PATH</code>. Por lo cual, el <em>job</em> fallaba.</p>

<p>Una posible solución a este problema era el de modificar la variable de entorno
a nivel global, pero eso podría entrar en conflicto con otros <em>jobs</em>. Por lo cual
decidí cambiarla sólo a nivel de <em>job</em>. Por lo que llegamos a la pregunta:
¿Cómo se inyecta una variable de entorno en un <em>job</em> de Jenkins?</p>

<!-- more -->


<h2>Requisitos</h2>

<p>Para poder hacerlo se requiere tener instalado en plugin
&#8217;<a href="https://wiki.jenkins-ci.org/display/JENKINS/EnvInject+Plugin">Environment Injector Plugin</a>&#8217;. Este plugin añade una nueva sección en la página
de configuracion de los trabajos de jenkins: <em>Build Environment</em>.</p>

<h2>Proceso</h2>

<p>Una vez que el plugin está instalado, seguir estos sencillos pasos:</p>

<ol>
<li>Ir a la página de configuración del trabajo.</li>
<li>Localizar la sección <em>Build Environment</em>.</li>
<li>Activar la opcion <em>Inject environment variables to the build process</em> (Inyectar
variables de entorno en el proceso de construcción).</li>
<li>En el campo <em>Properties Content</em>, modificar la variable de entorno que necesitamos.</li>
</ol>


<p>En la siguiente imagen se puede ver el texto necesario para inyectar la variable
<code>PATH</code> en un entorno Linux. A dicha variable le estoy añadiendo una ruta donde
se encuentra la aplicación que necesita el <em>job</em> que estoy configurando.</p>

<p><img class="center" src="/images/2014/jenkins-build-environment.png"></p>

<p>Este ejemplo muestra como se configura un Jenkins instalado en un Linux, en
Windows se utilizaría de otra forma ya que las variables de entorno no
son exactamente iguales, así como la configuración de las mismas.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Rubén Chavarría</span></span>

      








  


<time datetime="2014-10-17T08:44:00+02:00" pubdate data-updated="true">Oct 17<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/continuous-integration/'>Continuous Integration</a>, <a class='category' href='/blog/categories/jenkins/'>Jenkins</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://rchavarria.github.io/blog/2014/10/17/jenkins-ci-inyectar-variable-de-entorno/" data-via="rchavarriat" data-counturl="http://rchavarria.github.io/blog/2014/10/17/jenkins-ci-inyectar-variable-de-entorno/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/10/11/aprendiendo-vim/" title="Previous Post: Aprendiendo Vim">&laquo; Aprendiendo Vim</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/10/23/screencast-programacion-juego-disparejo/" title="Next Post: Screencast de programacion: el Juego del disparejo">Screencast de programacion: el Juego del disparejo &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/11/08/soft-skills/">Soft skills</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/11/01/screencast-robot-name-exercism/">Screencast de programación: Robot name (exercism.io)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/25/youve-got-commit/">You've got commit!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/18/charla-tecnica-effective-learning-for-programmers/">Charla técnica: Effective learning for programmers</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/18/charla-tecnica-all-the-little-things/">Charla técnica: All the little things</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("rchavarriat", 4, true);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <p>Follow <a href="http://twitter.com/rchavarriat">@rchavarriat</a></p>
  
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/rchavarriat?count=5&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/rchavarriat">My Delicious Bookmarks &raquo;</a></p>
</section>




  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Rub&eacute;n Chavarr&iacute;a -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rchavarria-github-com';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://rchavarria.github.io/blog/2014/10/17/jenkins-ci-inyectar-variable-de-entorno/';
        var disqus_url = 'http://rchavarria.github.io/blog/2014/10/17/jenkins-ci-inyectar-variable-de-entorno/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
